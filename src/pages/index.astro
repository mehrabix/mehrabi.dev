---
import BaseLayout from "../layouts/BaseLayout.astro";
import HorizontalCard from "../components/HorizontalCard.astro";
import { getCollection } from "astro:content";
import createSlug from "../lib/createSlug";

const posts = (await getCollection("blog")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);

const last_posts = posts.slice(0, 3);
---

<BaseLayout sideBarActiveItemID="home">
  <div class="pb-12 mt-5">
    <div class="text-xl py-1">Hey there ðŸ‘‹</div>
    <div class="text-5xl font-bold">I'm Ahmad Mehrabi</div>
    <div class="text-3xl py-3 font-bold">Software Engineer</div>
    <div class="py-2">
      <p class="text-lg">
        Iâ€™m a <b>Passionate</b> software engineer with a focus on building innovative
        and scalable solutions. With expertise in Software development
        and DevOps, I have a track record of delivering high-quality web applications
        that enhance user experiences and drive business results. My approach combines
        technical excellence with a deep understanding of user needs, ensuring that
        every project I work on is efficient, reliable, and impactful.
      </p>
    </div>
    <div class="mt-8">
      <a class="btn" href="https://twitter.com/manuelernestog" target="_blank">
        Let's connect!
      </a>
    </div>
  </div>

  <div>
    <div class="text-3xl w-full font-bold mb-2">My last projects {"</>"}</div>
  </div>

  <div class="divider my-4"></div>
  <HorizontalCard
    title="Easymed"
    desc="Engineered a comprehensive SaaS platform for electronic healthcare services, optimizing healthcare operations and enhancing patient satisfaction through EHR, e-prescribing, and SePAS system integration."
    url="https://easymed.ir/"
    badge="SaaS"
  />
  <div class="divider my-4"></div>
  <HorizontalCard
    title="Darmanmobile"
    desc="Developed a platform for Iran Insurance Company, enabling efficient management of national insurance projects in various sectors, with a focus on risk management and international reinsurance."
    url="https://darmanmobile.iraninsurance.ir/"
    badge="Insurance"
  />

  <!-- {last_posts.length > 0 && (
    <div>
      <div class="text-3xl w-full font-bold mb-5 mt-10">Latest from blog</div>
    </div>
  )}

  {last_posts.map((post) => (
    <>
      <HorizontalCard
        title={post.data.title}
        img={post.data.heroImage}
        desc={post.data.description}
        url={"/blog/" + createSlug(post.data.title, post.slug)}
        target="_self"
        badge={post.data.badge}
      />
      <div class="divider my-4" />
    </>
  ))} -->
</BaseLayout>